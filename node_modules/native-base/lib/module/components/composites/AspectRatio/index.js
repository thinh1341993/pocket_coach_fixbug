var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _Box=_interopRequireDefault(require("../../primitives/Box"));var _useHasResponsiveProps=require("../../../hooks/useHasResponsiveProps");var _hooks=require("../../../hooks");var _this=this,_jsxFileName="/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/AspectRatio/index.tsx";var AspectView=_react.default.forwardRef(function(props,ref){var _React$useState=_react.default.useState(),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),layout=_React$useState2[0],setLayout=_React$useState2[1];var inputStyle=[_reactNative.StyleSheet.flatten(props.style)||{}];if(layout){var _layout$width=layout.width,width=_layout$width===void 0?0:_layout$width,_layout$height=layout.height,height=_layout$height===void 0?0:_layout$height;if(width===0){inputStyle.push({width:height*props.aspectRatio,height:height});}else{inputStyle.push({width:width,height:width/props.aspectRatio});}}return _react.default.createElement(_Box.default,(0,_extends2.default)({},props,{ref:ref,style:inputStyle,onLayout:function onLayout(_ref){var inLayout=_ref.nativeEvent.layout;return setLayout(inLayout);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:22,columnNumber:5}}));});var AspectRatio=function AspectRatio(props,ref){var _usePropsResolution=(0,_hooks.usePropsResolution)('AspectRatio',props,{},{resolveResponsively:['ratio']}),style=_usePropsResolution.style,ratio=_usePropsResolution.ratio,children=_usePropsResolution.children,resolvedProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,["style","ratio","children"]);var computedStyle=style;var newChildWithProps=_react.default.cloneElement(children,(0,_extends2.default)({},children.props,{style:_reactNative.StyleSheet.absoluteFillObject}),children.props.children);if((0,_useHasResponsiveProps.useHasResponsiveProps)(resolvedProps)){return null;}if(_reactNative.Platform.OS==='web'){return _react.default.createElement(AspectView,(0,_extends2.default)({},resolvedProps,{aspectRatio:ratio,style:style,ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:57,columnNumber:7}}),newChildWithProps);}else{computedStyle=_reactNative.StyleSheet.flatten([style,{aspectRatio:ratio}]);return _react.default.createElement(_Box.default,(0,_extends2.default)({},resolvedProps,{style:computedStyle,ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:7}}),newChildWithProps);}};var _default=_react.default.memo(_react.default.forwardRef(AspectRatio));exports.default=_default;
//# sourceMappingURL=index.js.map